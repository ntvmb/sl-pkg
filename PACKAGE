NAME=sl-pkg
VERSION=git
URL="https://github.com/ntvmb/sl-pkg.git"
DEPENDS=(bash coreutils curl sqlite tar xz gzip sed make)
OPTDEPENDS=(git bzip2)
PATCHES=()
METAPACKAGE=false

prepare() {
    return 0
}

build() {
    return 0
}

install() {
    install -v sl-pkg /usr/bin/sl-pkg || return 1
    if [ ! -N /etc/sl-pkg.conf ]; then
        install -v sl-pkg.conf /etc/sl-pkg.conf || return 1
    else
        install -v sl-pkg.conf /etc/sl-pkg.conf.new || return 1
        echo "warning: /etc/sl-pkg.conf installed as /etc/sl-pkg.conf.new"
    fi
    return 0
}

postinst() {
    $NAME detect
    return 0
}

detect() {
    $NAME version
    return $?
}
